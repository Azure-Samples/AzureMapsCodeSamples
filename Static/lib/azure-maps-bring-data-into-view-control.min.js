/* MIT License - Copyright (c) Microsoft Corporation. */


!function(t,p){"use strict";var i=function(){return(i=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var o in e=arguments[a])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},e=(a.merge=function(t,e){for(var a=window||global,n=0,o=t.split(".");n<o.length;n++){var r=o[n];if(!a[r])return e;a=a[r]}return i(i({},a),e)},a);function a(){}var n=(l.prototype.onAdd=function(u,t){var c=this,e=(c._map=u).getMapContainer().classList;e.contains("high-contrast-dark")?c._hclStyle="dark":e.contains("high-contrast-light")&&(c._hclStyle="light");var a="light";c._hclStyle?"dark"===c._hclStyle&&(a=c._darkColor):a=c._options.style,"light"===a?a="white":"dark"===a?a=c._darkColor:"auto"===a&&(u.events.add("styledata",c._mapStyleChanged),a=c._getColorFromMapStyle());var n=l._getAriaLabel(u.getStyle().language),o=document.createElement("style");o.innerHTML=c._buttonCSS,document.body.appendChild(o);var r=document.createElement("div");r.classList.add("azure-maps-control-container"),r.setAttribute("aria-label",n),r.style.flexDirection="column",c._container=r;var i=document.createElement("button");return i.classList.add("azmaps-bringDataIntoViewBtn"),i.style.backgroundColor=a,i.setAttribute("title",n),i.setAttribute("alt",n),i.setAttribute("type","button"),(c._button=i).addEventListener("click",function(){var t=p.data.BoundingBox,e=[];u.sources.getSources().forEach(function(t){t instanceof p.source.DataSource&&(e=e.concat(t.toJson().features))});var a=null;0<e.length&&(a=t.fromData(e));for(var n=[],o=0,r=u.markers.markers.values();o<r.length;o++){var i=r[o];n.push(i.getOptions().position)}if(0<n.length){var l=t.fromPositions(n);a=null===a?l:t.merge(a,l)}for(var s=u.layers.getLayers(),A=0;A<s.length;A++)s[A]instanceof p.layer.ImageLayer&&(l=t.fromPositions(s[A].getOptions().coordinates),a=null===a?l:t.merge(a,l));if(null!==a){var d=t.getWidth(a),g=t.getHeight(a);d<1e-6||g<1e-6?u.setCamera({center:t.getCenter(a),zoom:17}):u.setCamera({bounds:a,padding:c._options.padding})}}),r.appendChild(i),r},l.prototype.onRemove=function(){var t=this;t._container&&(t._container.remove(),t._container=null),"auto"===t._options.style&&t._map.events.remove("styledata",t._mapStyleChanged),t._map=null},l.prototype._getColorFromMapStyle=function(){return-1<["satellite","satellite_road_labels","grayscale_dark","night"].indexOf(this._map.getStyle().style)?this._darkColor:"white"},l._getAriaLabel=function(t){t&&0<t.indexOf("-")&&(t=t.substring(0,t.indexOf("-")));var e={af:"Bring data in die oog",ar:"جلب البيانات في الرأي",eu:"Ekarri datuak ikusteko",bg:"Привеждане на данните в изглед",zh:"将数据带入视图",hr:"Donesite podatke u prikaz",cs:"Přenést data do zobrazení",da:"Få vist data i visningen",nl:"Gegevens in beeld brengen",et:"Andmete vaatamine",fi:"Tuo tiedot näkymään",fr:"Mettre les données en vue",gl:"Fai ver os datos",de:"Daten in den Blick bringen",el:"Εισαγωγή δεδομένων σε προβολή",hi:"डेटा को दृश्य में लाएं",hu:"Adatok áthozása a nézetbe",id:"Bawa data ke tampilan",it:"Portare i dati in vista",ja:"データをビューに取り込む",kk:"Деректерді көрініске енгізіңіз",ko:"데이터를 뷰로 가져오기",es:"Lleve los datos a la vista",lv:"Datu skatīšana skatā",lt:"Atvesti duomenis į rodinį",ms:"Membawa data ke dalam paparan",nb:"Hent data til visning",pl:"Przynieś dane do widoku",pt:"Colocar os dados em exibição",ro:"Aducerea datelor în vizualizare",ru:"Перенесите данные в представление",sr:"Uskladi podatke u prikaz",sk:"Preniesť údaje do zobrazenia",sl:"Prinesite podatke v pogled",sv:"Ta fram data i vyn",th:"นำข้อมูลมาไว้ในมุมมอง",tr:"Verileri görünüme getirme",uk:"Приведення даних у режим перегляду",vi:"Mang dữ liệu vào chế độ xem",en:"Bring data into view"},a=e[t.toLowerCase()];return a||e.en},l);function l(t){var e=this;this._darkColor="#011c2c",this._hclStyle=null,this._options={style:"light",padding:100},this._buttonCSS=".azmaps-bringDataIntoViewBtn{margin:0;padding:0;border:none;border-collapse:collapse;width:32px;height:32px;text-align:center;cursor:pointer;line-height:32px;background-repeat:no-repeat;background-size:20px;background-position:center center;z-index:200;box-shadow:0px 0px 4px rgba(0,0,0,0.16);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAB3RJTUUH4wMIFTgXULHJFAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAhUlEQVRo3u3asQ2AIBAF0MO4p42FI1nYOKlugAUnJvL+BLzwcxGw7Md5RUO2dSmRkNZ1TPGTgICADAIptbGXNVqzUluraoGADAKZv/rIy56UqvVFartVVEu1QEBAQEBAQEBAQEAaz+xuGlXrpWr1PlvbERAQEJCIhzfEnqPYLxwgICBjQW7ewSYPr/zk7gAAAABJRU5ErkJggg==);}.azmaps-bringDataIntoViewBtn:hover{background-color:red;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABcRAAAXEQHKJvM/AAAAB3RJTUUH4wMIFTcYR5bISgAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABDklEQVRo3u2aMQ+CMBSE7wjGwURXd1cHhb8Cv1L/ikDi7Goc1UESElMXN0UiLaToXcIEbe57vFd4TbneZnsAS7RUnkSEA623mbEZH9hA+KQAPyKBDAXEeOz5rbew5mECWAA4NUxKZ+6MGZMcNQRxDuDwDQgAlHkS3foKc5HGFYCqYYkuVewCEcifg4QWP3mzDr43zJPo0isIgHNHwWWbe8GHIaVv6ZMn0fHp+eWiRWqZjszyr4tdIAIRiEAEIhCBCEQgAhHI8Hr2ugbJGDMr0vjqk9nVZjclefnqjZCc+Bb1T55Cy7md76K0Tq2+e2sVu0AEIpDOQO4e+q31RBdbny6WYhdHOFQjAhGIQIajB80LO3KY+u0wAAAAAElFTkSuQmCC);}",this._mapStyleChanged=function(){e._button&&!e._hclStyle&&(e._button.style.backgroundColor=e._getColorFromMapStyle())},this._options=Object.assign(this._options,t||{})}var o=Object.freeze({__proto__:null,BringDataIntoViewControl:n}),r=e.merge("atlas.control",o);t.control=r}(this.atlas=this.atlas||{},atlas);
