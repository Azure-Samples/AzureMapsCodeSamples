/* MIT License - Copyright (c) Microsoft Corporation. */


!function(e,t){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var l,a,i,o=(l=t.internal.EventEmitter,n(a=d,i=l),a.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r),d.prototype.dispose=function(){var e=this;e._swipeHandle.removeEventListener("mousedown",e._mouseDown,!1),e._swipeHandle.removeEventListener("touchstart",e._touchStart,!1),e._swipeHandle.removeEventListener("keydown",e._keyDown,!1),e._swipeHandle.removeEventListener("keyup",e._touchStart,!1),document.removeEventListener("touchend",e._touchEnd,!1),document.removeEventListener("mouseup",e._mouseUp,!1),document.removeEventListener("touchmove",e._mouseMove,!1),document.removeEventListener("mousemove",e._mouseMove,!1),e._secondaryMap.events.remove("resize",e._mapResized),e._detachMapMoveHandlers(),e._options=null,e._primaryMap.getMapContainer().removeChild(e._container),e._container=null,e._swipeHandle=null,e._secondaryMap=null,e._rightMapClientRect=null,e._primaryMap=null},d.prototype.getOptions=function(){return this._options},d.prototype.setOptions=function(e){if(e){var t=this,n=t._css,a=t._container,i=a.classList,o=t._options,r=t._swipeHandle,s=t._primaryMap;if(e.orientation!==o.orientation&&("vertical"===e.orientation||"horizontal"===e.orientation)){var l=s.getMapContainer().getBoundingClientRect();"horizontal"===e.orientation?(a.style.flexDirection="row",i.contains(n.hor)||(i.add(n.hor),r.classList.add(n.hHandle),void 0===e.sliderPosition&&(e.sliderPosition=l.height/2))):(a.style.flexDirection="column",i.contains(n.hor)&&(i.remove(n.hor),r.classList.remove(n.hHandle),void 0===e.sliderPosition&&(e.sliderPosition=l.width/2))),o.orientation=e.orientation}if("number"==typeof e.sliderPosition&&t._setSliderPosition(e.sliderPosition),"boolean"==typeof e.interactive&&(o.interactive=e.interactive,r.style.display=e.interactive?"":"none"),"string"==typeof e.style){var d=e.style;if(t._hclStyle)"dark"===t._hclStyle&&(d=t._darkColor);else switch(o.style=d,e.style){case"dark":d=t._darkColor;break;case"light":d="white"}a.style.backgroundColor=d,r.style.backgroundColor=d}}},d.prototype.init=function(){var n=this,e=n._primaryMap,t=n._secondaryMap;if(e&&t){var a=e.getMapContainer().classList;a.contains("high-contrast-dark")?n._hclStyle="dark":a.contains("high-contrast-light")&&(n._hclStyle="light");var i=n._css,o=document.createElement("style");o.innerHTML=".azure-maps-swipe-map{background-color:#fff;position:absolute;width:2px;height:100%;z-index:1}.azure-maps-swipe-map-handle{display:inline-block;position:absolute;width:32px;height:32px;top:50%;left:-16px;margin:-16px 1px 0;color:#fff;border-radius:50%;background-color:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAtAgMAAABdSOqHAAAACVBMVEVvAFGZnKGYnKHRdglsAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAFxEAABcRAcom8z8AAAAHdElNRQfjBBMQJjL8B+zpAAAAIUlEQVQY02NYtYCBaxUD06oGhlHWUGKFBjCwhjIwhjoAAD5WjM7Wpy2IAAAAAElFTkSuQmCC);text-align:center;cursor:pointer;background-repeat:no-repeat;background-size:11px;background-position:center center;z-index:200;box-shadow:0 0 1px 1px rgba(0,0,0,.16)}.azure-maps-swipe-map .azure-maps-swipe-map-handle:focus,.azure-maps-swipe-map .azure-maps-swipe-map-handle:hover{cursor:col-resize;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAtAgMAAABdSOqHAAAACVBMVEVSAMQxrM4xrM5QMZf3AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAFxEAABcRAcom8z8AAAAHdElNRQfjBBMQJwQqpkgxAAAAIUlEQVQY02NYtYCBaxUD06oGhlHWUGKFBjCwhjIwhjoAAD5WjM7Wpy2IAAAAAElFTkSuQmCC)}.azure-maps-swipe-map-horizontal{width:100%;height:2px}.azure-maps-swipe-map-handle-horizontal{top:-16px;left:50%;margin:-1px 0 0 -16px;background-size:14px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAiAgMAAAC2IrjcAAAACVBMVEVhAFmZnKGYnKEqW5yZAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAFxEAABcRAcom8z8AAAAHdElNRQfjBBMQJyQRyGj5AAAAFUlEQVQY02NYhQAODBRz6AVGXe0AAJYfh/3tnkFuAAAAAElFTkSuQmCC)}.azure-maps-swipe-map .azure-maps-swipe-map-handle-horizontal:focus,.azure-maps-swipe-map .azure-maps-swipe-map-handle-horizontal:hover{cursor:row-resize;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAiAgMAAAC2IrjcAAAACVBMVEVhAP8xrM4xrM7t6ZpIAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAFxEAABcRAcom8z8AAAAHdElNRQfjBBMQJzbicRmxAAAAFUlEQVQY02NYhQAODBRz6AVGXe0AAJYfh/3tnkFuAAAAAElFTkSuQmCC)}",document.body.appendChild(o);var r=d._getAriaLabel(e.getStyle().language),s=document.createElement("div");s.classList.add(i.root),s.setAttribute("aria-label",r),s.style.flexDirection="column",n._container=s;var l=document.createElement("div");l.classList.add(i.vHandle),l.setAttribute("tabindex","0"),l.setAttribute("title",r),l.setAttribute("alt",r),this._swipeHandle=l,"horizontal"===n._options.orientation&&(s.style.flexDirection="row",s.classList.add(i.hor),l.classList.add(i.hHandle)),s.style.msUserSelect="none",s.style.webkitUserSelect="none",s.style.userSelect="none",l.addEventListener("mousedown",n._mouseDown,!1),l.addEventListener("touchstart",n._touchStart,!1),l.addEventListener("keydown",n._keyDown,!1),l.addEventListener("keyup",n._keyUp,!1),document.addEventListener("touchend",n._touchEnd,!1),document.addEventListener("mouseup",n._mouseUp,!1),document.addEventListener("touchmove",n._mouseMove,!1),document.addEventListener("mousemove",n._mouseMove,!1),s.appendChild(l),e.getMapContainer().appendChild(s),n._rightMapClientRect=t.getMapContainer().getBoundingClientRect(),t.events.add("resize",n._mapResized),n._maps=[e,t],n._maps.forEach(function(e,t){n._syncEvents[t]=n._synchronizeMaps.bind(n,e)}),n._syncEvents[0](),n._attachMapMoveHandlers(),n.setOptions(n._options)}},d.prototype._attachMapMoveHandlers=function(){var n=this;this._maps.forEach(function(e,t){e.events.add("move",n._syncEvents[t])})},d.prototype._detachMapMoveHandlers=function(){var n=this;this._maps.forEach(function(e,t){e.events.remove("move",n._syncEvents[t])})},d.prototype._synchronizeMaps=function(n){var e=this._maps.filter(function(e,t){return e!==n});this._detachMapMoveHandlers();var t=n.getCamera();e.forEach(function(e){e.setCamera({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch,type:"jump"})}),this._attachMapMoveHandlers()},d.prototype._setSliderPosition=function(e){var t,n=this,a=n._options,i=n._rightMapClientRect,o=n._secondaryMap.getMapContainer().style,r=n._container.style;"vertical"===a.orientation?(t="translate("+(e=Math.max(Math.min(e,i.width),0))+"px, 0)",o.clip="rect(0, 999em, "+i.height+"px, "+e+"px)"):(t="translate(0, "+(e=Math.max(Math.min(e,i.height),0))+"px)",o.clip="rect("+e+"px, 999em, 999em, 0)"),r.transform=t,r.webkitTransform=t,a.sliderPosition=e,n._invokeEvent("positionChanged",e)},d._getAriaLabel=function(e){e&&0<e.indexOf("-")&&(e=e.substring(0,e.indexOf("-")));var t=d._resx[e.toLowerCase()];return t||d._resx.en},d._resx={en:"Drag to see underlying data",af:"Sleep sien onderliggende data",ar:"اسحب لرؤية البيانات الاساسيه",eu:"Arrastatu azpiko datuak ikusteko",bg:"Плъзнете, за да видите основните данни",zh:"拖动以查看基础数据",hr:"Vucite da biste vidjeli temeljne podatke",cs:"Přetažením zobrazíte podkladová data.",da:"Træk for at se underliggende data",nl:"Slepen om onderliggende gegevens weer te geven",et:"Alusandmete nägemiseks lohistage",fi:"Näytä pohjana olevat tiedot vetämällä",fr:"Faites glisser pour voir les données sous-jacentes",gl:"Arrastre para ver os datos subxacentes",de:"Ziehen Sie, um die zugrunde liegenden Daten zu sehen",el:"Σύρετε για να δείτε τα υποκείμενα δεδομένα",hi:"अंतर्निहित डेटा देखने के लिए खींचें",hu:"Húzással láthatja az alapul szolgáló adatokat",id:"Seret untuk melihat data yang mendasari",it:"Trascinare per visualizzare i dati sottostanti",ja:"ドラッグして基になるデータを表示",kk:"Негізгі деректерді көру үшін сүйреңіз",ko:"기본 데이터를 보려면 끕니다.",es:"Arrastre para ver los datos subyacentes",lv:"Velciet, lai skatītu pamatā esošos datus",lt:"Vilkite, kad pamatytumėte pagrindinius duomenis",ms:"Seret untuk melihat data asas",nb:"Dra for å se underliggende data",pl:"Przeciągnij, aby wyświetlić dane bazowe",pt:"Arraste para ver os dados subjacentes",ro:"Glisați pentru a vedea datele subiacente",ru:"Перетаскивание для просмотра базовых данных",sr:"Prevucite da biste videli osnovne podatke",sk:"Presunutím zobrazíte základné údaje",sl:"Povlecite za prikaz osnovnih podatkov",sv:"Dra för att Visa underliggande data",th:"ลากเพื่อดูข้อมูลพื้นฐาน",tr:"Alttaki verileri görmek için sürükleyin",uk:"Перетягніть, щоб переглянути основні дані",vi:"Kéo để xem dữ liệu cơ bản"},d);function r(){this.constructor=a}function d(e,t,n){var a=l.call(this)||this;a._options={interactive:!0,style:"light",orientation:"vertical"},a._syncEvents=[],a._maps=[],a._markers=[],a._canMove=!1,a._darkColor="#011c2c",a._css={root:"azure-maps-swipe-map",hor:"azure-maps-swipe-map-horizontal",hHandle:"azure-maps-swipe-map-handle-horizontal",vHandle:"azure-maps-swipe-map-handle"},a._mouseDown=function(){a._canMove=!0,a._swipeHandle.style.outlineWidth="0"},a._mouseUp=function(){var e=a;e._canMove=!1,e._swipeHandle.style.outlineWidth="1px",e._swipeHandle.blur()},a._touchStart=function(){a._canMove=!0},a._touchEnd=function(){a._canMove=!1},a._keyUp=function(e){window.clearInterval(a._keyRepater),a._keyRepater=null},a._keyDown=function(e){var t=a,n=t._options;t._keyRepater&&window.clearInterval(t._keyRepater),"vertical"===n.orientation?37!==e.keyCode&&39!==e.keyCode||(t._keyRepater=window.setInterval(function(){t._setSliderPosition(n.sliderPosition+(37===e.keyCode?-1:1))},1)):38!==e.keyCode&&40!==e.keyCode||(t._keyRepater=window.setInterval(function(){t._setSliderPosition(n.sliderPosition+(38===e.keyCode?-1:1))},1))},a._mapResized=function(){var e=a,t=e._options.sliderPosition;e._rightMapClientRect=e._secondaryMap.getMapContainer().getBoundingClientRect(),"number"==typeof t&&e._setSliderPosition(t)},a._mouseMove=function(e){var t=a;if(t._container.style.pointerEvents="auto",t._swipeHandle.style.pointerEvents="auto",t._canMove&&t._options.interactive){var n=0;"vertical"===t._options.orientation?(n=e.touches?e.touches[0].clientX:e.clientX,n-=t._rightMapClientRect.left):(n=e.touches?e.touches[0].clientY:e.clientY,n-=t._rightMapClientRect.top),t._setSliderPosition(n)}};var i=a,o=i._options;i._primaryMap=e,i._secondaryMap=t;var r=!1;if(n&&("number"==typeof n.sliderPosition&&(r=!0),Object.assign(o,n)),!r){var s=i._primaryMap.getMapContainer().getBoundingClientRect();"vertical"===o.orientation?o.sliderPosition=s.width/2:o.sliderPosition=s.height/2}return i.init(),a}e.SwipeMap=o}(this.atlas=this.atlas||{},atlas);
