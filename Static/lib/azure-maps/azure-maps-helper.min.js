async function processRequest(n){const i=await signRequest(n),t=await fetch(i.url,{method:"GET",mode:"cors",headers:new Headers(i.headers)});if(!t.ok)throw new Error(`Network response was not ok: ${t.status} ${t.statusText}`);return t.json()}async function processPostRequest(n,t){const r=await signRequest(n),i=fetch(r.url,{method:"POST",mode:"cors",headers:new Headers(r.headers),body:t});if(!i.ok)throw new Error(`Network response was not ok: ${i.status} ${i.statusText}`);return i}async function signRequest(n){var t,i;return n=n.replace("{azMapsDomain}",atlas.getDomain()),t=await map.authentication.signRequest({url:n}),t.headers["Content-type"]="application/json; charset=UTF-8",i=map.getServiceOptions().transformRequest,i&&(t=await i(n)),t}