/* MIT License - Copyright (c) Microsoft Corporation. */


!function(t){"use strict";var e=(n.prototype.dispose=function(){this._detachMapChangeHandlers(),this._maps=null,this._syncEvents=null,this._enabled=null},n.prototype.isEnabled=function(){return this._enabled},n.prototype.disable=function(){this._enabled=!1,this._detachMapChangeHandlers()},n.prototype.enable=function(){this._enabled=!0,this._attachMapChangeHandlers()},n.prototype._attachMapChangeHandlers=function(){var e=this;this._maps&&this._maps.forEach(function(t,n){t.events.add("move",e._syncEvents[n]),t.events.add("styledata",e._syncEvents[n])})},n.prototype._detachMapChangeHandlers=function(){var e=this;this._maps&&this._maps.forEach(function(t,n){t.events.remove("move",e._syncEvents[n]),t.events.remove("styledata",e._syncEvents[n])})},n.prototype._synchronizeMaps=function(n){if(this._maps&&this._enabled){var t=this._maps.filter(function(t){return t!==n});this._detachMapChangeHandlers();var e=n.getCamera();t.forEach(function(t){t.setCamera({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch,type:"jump"})}),this._attachMapChangeHandlers()}},n);function n(t){var e=this;this._syncEvents=[],this._enabled=!0,(this._maps=t).forEach(function(t,n){e._syncEvents[n]=e._synchronizeMaps.bind(e,t)}),this._syncEvents[0](),this._attachMapChangeHandlers()}t.syncMaps=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Array.isArray(t)&&0<t.length&&Array.isArray(t[0])&&(t=t[0]),new e(t)}}(this.atlas=this.atlas||{});
