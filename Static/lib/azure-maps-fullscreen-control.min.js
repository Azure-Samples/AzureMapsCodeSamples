/* MIT License - Copyright (c) Microsoft Corporation. */


!function(e,n){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)};var o=function(){return(o=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var l in n=arguments[t])Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l]);return e}).apply(this,arguments)},a=(l.merge=function(e,n){for(var t=window||global,a=0,l=e.split(".");a<l.length;a++){var r=l[a];if(!t[r])return n;t=t[r]}return o(o({},t),n)},l);function l(){}var r,s,i,c=(r=n.internal.EventEmitter,t(s=A,i=r),s.prototype=null===i?Object.create(i):(u.prototype=i.prototype,new u),A.prototype.dispose=function(){var n=this;n._map&&n._map.controls.remove(n),Object.keys(n).forEach(function(e){n[e]=null})},A.prototype.getOptions=function(){return Object.assign({},this._options)},A.prototype.onAdd=function(e,n){var t=this;t._map=e;var a=A.isSupported();if(a||!a&&!this._options.hideIfUnsupported){var l=e.getMapContainer().classList;l.contains("high-contrast-dark")?t._hclStyle="dark":l.contains("high-contrast-light")&&(t._hclStyle="light");var r=t._getTranslations(e.getStyle().language);t._resource=r,t._container||(t._container=this._map.getMapContainer(),t._container.classList.contains("azmaps-map-fullscreen-container")||t._container.classList.add("azmaps-map-fullscreen-container"));var o=document.createElement("style");o.innerHTML=A._fullscreenCss,document.body.appendChild(o);var s=document.createElement("div");s.classList.add("azure-maps-control-container"),s.setAttribute("aria-label",r[2]),s.style.flexDirection="column",t._btnContainer=s;var i=document.createElement("button");i.classList.add("azmaps-map-fullscreen-btn"),i.classList.add("azmaps-map-fullscreen-expand"),i.setAttribute("title",r[1]),i.setAttribute("alt",r[1]),i.setAttribute("type","button"),i.addEventListener("click",t._toggleFullscreen),t._button=i,t._updateBtn(),t._btnContainer.appendChild(t._button);var c=void 0;return document.fullscreenchange?c="fullscreenchange":document.webkitCancelFullScreen?c="webkitfullscreenchange":document.mozCancelFullScreen?c="mozfullscreenchange":document.msExitFullscreen&&(c="MSFullscreenChange"),c&&document.addEventListener(c,function(){t._updateBtn()}),t.setOptions(t._options),t._btnContainer}return null},A.prototype.onRemove=function(){var e=this,n=e._container,t=e._btnContainer;n&&n.classList.contains("azmaps-map-fullscreen-container")&&n.classList.remove("azmaps-map-fullscreen-container"),t&&(t.remove(),e._btnContainer=null),"auto"===e._options.style&&e._map.events.remove("styledata",e._mapStyleChanged),e._map=null},A.prototype.setOptions=function(e){if(e){var n=this,t=n._map,a=n._options;if(void 0!==e.container){var l=n.isFullscreen();l&&n._toggleFullscreen();var r=n._container;r&&r.classList.contains("azmaps-map-fullscreen-container")&&r.classList.remove("azmaps-map-fullscreen-container"),a.container=e.container,(r=null)===e.container?r=t.getMapContainer():"string"==typeof e.container?r=(r=document.getElementById(e.container))||document.querySelector(e.container):e.container instanceof HTMLElement&&(r=e.container),(n._container=r)&&!r.classList.contains("azmaps-map-fullscreen-container")&&(r.classList.add("azmaps-map-fullscreen-container"),l&&n._toggleFullscreen())}if("boolean"==typeof e.hideIfUnsupported&&a.hideIfUnsupported!==e.hideIfUnsupported&&(a.hideIfUnsupported=e.hideIfUnsupported,!A.isSupported()&&t&&(n.onRemove(),n.onAdd(t))),"string"==typeof e.style){var o="white";if(n._hclStyle)"dark"===n._hclStyle&&(o=n._darkColor);else switch("auto"===a.style&&t.events.remove("styledata",n._mapStyleChanged),a.style=e.style,e.style){case"dark":o=n._darkColor;break;case"auto":t.events.add("styledata",n._mapStyleChanged),o=n._getColorFromMapStyle()}n._button.style.backgroundColor=o}}},A.prototype.isFullscreen=function(){var e=document;return!!(e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement)},A.isSupported=function(){var e=document;return e.fullscreenEnabled||e.msFullscreenEnabled||e.mozFullScreenEnabled||e.webkitFullscreenEnabled},A.prototype._getColorFromMapStyle=function(){return-1<["satellite","satellite_road_labels","grayscale_dark","night"].indexOf(this._map.getStyle().style)?this._darkColor:"white"},A.prototype._updateBtn=function(){var e,n,t=this,a=t._resource,l=a[1];t.isFullscreen()?(l=a[0],e="expand",n="collapse",t._invokeEvent("fullscreenchanged",!1)):(l=a[1],e="collapse",n="expand",t._invokeEvent("fullscreenchanged",!0));var r=t._button;r.setAttribute("title",l),r.setAttribute("alt",l),r.classList.remove("azmaps-map-fullscreen-"+e),r.classList.add("azmaps-map-fullscreen-"+n)},A.prototype._getTranslations=function(e){e&&0<e.indexOf("-")&&(e=e.substring(0,e.indexOf("-")));var n=A._translations,t=n[e];return t=t||n.en},A._fullscreenCss=".azmaps-map-fullscreen-container:-webkit-full-screen{width:100%;height:100%;}.azmaps-map-fullscreen-container:-moz-full-screen{width:100%;height:100%;}.azmaps-map-fullscreen-container:-ms-fullscreen{width:100%;height:100%;}.azmaps-map-fullscreen-container:-o-full-screen{width:100%;height:100%;}.azmaps-map-fullscreen-container:-full-screen{width:100%;height:100%;}.azmaps-map-fullscreen-btn{margin:0;padding:0;border:none;border-collapse:collapse;width:32px;height:32px;text-align:center;cursor:pointer;line-height:32px;background-repeat:no-repeat;background-size:20px;background-position:center center;z-index:200;box-shadow:0px 0px 4px rgba(0,0,0,0.16);}.azmaps-map-fullscreen-expand{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAMAAAF6ePCOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAVUExURQAAAJacn5ean5idopicopicoZicoZbVOdIAAAAGdFJOUwBQYI+fucOe/hkAAAAJcEhZcwAAFxEAABcRAcom8z8AAADMSURBVDhPzZSNDoIwDITn397/kV27il9Rzmwq4Qux194VRmIombqqDzCvtV236LvRJos28rD6RlPGs5jpvHaZVTLWe0nEbCkxbnKkU4zcMw7xpvTqeHrho2WzzDfWHHPPmraCmAXWzRDrtZ7ZpCeNOe03c3xnL2bOdginc2Iz6/yYuDGxP+WG1Q8Qmvxxx6UGQUgNgpAaBCE1CEJqEITUIHhxXGquTjTHBa+mQRBSgyCkBkFIDYKQGgQhNQhCahDsMmGfoA1r351BSrkDTQQSzEhW2qYAAAAASUVORK5CYII=);}.azmaps-map-fullscreen-expand:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAMAAAF6ePCOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAVUExURQAAADCszDCqzTKtzzKszzCszzGszvdFYikAAAAGdFJOUwBQYI+fucOe/hkAAAAJcEhZcwAAFxEAABcRAcom8z8AAADMSURBVDhPzZSNDoIwDITn397/kV27il9Rzmwq4Qux194VRmIombqqDzCvtV236LvRJos28rD6RlPGs5jpvHaZVTLWe0nEbCkxbnKkU4zcMw7xpvTqeHrho2WzzDfWHHPPmraCmAXWzRDrtZ7ZpCeNOe03c3xnL2bOdginc2Iz6/yYuDGxP+WG1Q8Qmvxxx6UGQUgNgpAaBCE1CEJqEITUIHhxXGquTjTHBa+mQRBSgyCkBkFIDYKQGgQhNQhCahDsMmGfoA1r351BSrkDTQQSzEhW2qYAAAAASUVORK5CYII=);}.azmaps-map-fullscreen-collapse{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyBAMAAADsEZWCAAAAD1BMVEWWnJ+Xmp+YnKKYnKKYnKHcteq5AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAFxEAABcRAcom8z8AAAAHdElNRQfiCw8VGzLD58rvAAAANUlEQVQ4y2NgIB+wuLg4IKhRGUpkXGAAKgMFg0JmuIHBH9ajuYTaMszGxgZAiklJSYFg+gAAKrRnAIqOPxgAAAAASUVORK5CYII=);}.azmaps-map-fullscreen-collapse:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyBAMAAADsEZWCAAAAD1BMVEUwrMwwqs0yrM8yrM8xrM6kUFC0AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAFxEAABcRAcom8z8AAAAHdElNRQfiCw8VGSuVugCtAAAANUlEQVQ4y2NgIB+wuLg4IKhRGUpkXGAAKgMFg0JmuIHBH9ajuYTaMszGxgZAiklJSYFg+gAAKrRnAIqOPxgAAAAASUVORK5CYII=);}",A._translations={af:["Verlaat volskerm","Vertoon volskerm","Volskerm beheer"],ar:["الخروج من وضع ملئ للشاشة","المشاهدة بحجم الشاشة","تحكم ملء الشاشة"],eu:["Irten pantaila osoko","ikusi pantaila osoan","Pantaila osoa kontrol"],bg:["Изход на цял екран","Преглед на цял екран","Контрол на цял екран"],zh:["退出全屏","全屏查看","全屏控制"],hr:["Izlaz na cijelom zaslonu","Prikaz na cijelom zaslonu","Puni zaslon kontrola"],cs:["Ukončit celou obrazovku","pohled na celou obrazovku","fullscreen kontrola"],da:["Afslut fuld skærm","Se fuld skærm","fullscreen kontrol"],nl:["Verlaat volledig scherm","Bekijk fullscreen","fullscreen controle"],et:["Välja täisekraani","Vaata täisekraani","Täisekraan kontrolli"],fi:["Poistu koko näytöstä","Koko näyttö","fullscreen ohjaus"],fr:["Quitter le mode plein écran","Voir en plein écran","Contrôle plein écran"],gl:["Saia da pantalla completa","Ver a pantalla completa","Control de pantalla completa"],de:["Beenden Vollbild","Ansicht Vollbild","Vollbild-Steuerung"],el:["Έξοδος από πλήρη οθόνη","Προβολή σε πλήρη οθόνη","Πλήρης οθόνη ελέγχου"],hi:["पूर्ण स्क्रीन से बाहर निकलें","पूर्णस्क्रीन देखें","पूर्ण स्क्रीन नियंत्रण"],hu:["Kilépés a teljes képernyős","Megtekintés teljes képernyőn","Nagyítás ellenőrzés"],id:["Keluar layar penuh","Lihat fullscreen","Kontrol layar penuh"],it:["Esci da schermo intero","Visualizza schermo intero","controllo a tutto schermo"],ja:["出口フルスクリーン","表示フルスクリーン","フルスクリーンコントロール"],kk:["Толық экраннан шығу","View толық экран","Fullscreen бақылау"],ko:["전체 화면 종료","전체 화면보기","전체 화면 제어"],es:["Salir de pantalla completa","Ver en pantalla completa","control de pantalla completa"],lv:["Iziet no pilnekrāna","Skatīt pilnekrāna režīmā","Pilnekrāna kontrole"],lt:["Išjungti viso ekrano režimą","Peržiūrėti per visą ekraną","Fullscreen kontrolė"],ms:["keluar skrin penuh","paparan skrin penuh","kawalan skrin penuh"],nb:["Avslutt full skjerm","Vis fullskjerm","Full skjermkontroll"],pl:["Wyłączyć tryb pełnoekranowy","Zobacz na pełnym ekranie","kontrola na pełnym ekranie"],pt:["Sair em tela cheia","Ver tela cheia","controle de tela cheia"],ro:["Ieșire ecran complet","Vezi tot ecranul","controlul pe tot ecranul"],ru:["Выход из полноэкранного режима","Просмотреть весь экран","Полноэкранный контроль"],sr:["Излаз из целог екрана","Погледај преко целог екрана","фуллсцреен контрола"],sk:["Skončiť celú obrazovku","pohľad na celú obrazovku","fullscreen kontrola"],sl:["Izhod celozaslonski","Poglej celozaslonski","celozaslonski nadzor"],sv:["Avsluta helskärm","Visa helskärm","Full skärms kontroll"],th:["แบบเต็มหน้าจอออกจาก","ดูแบบเต็มจอ","การควบคุมแบบเต็มหน้าจอ"],tr:["Tam ekrandan çık","Tam ekran görüntüle","Tam Ekran kontrolü"],uk:["Вихід з повноекранного режиму","Переглянути весь екран","Редакція контроль"],vi:["Thoát toàn màn hình","Xem toàn màn hình","kiểm soát toàn màn hình"],en:["Exit Fullscreen","View Fullscreen","Fullscreen Control"]},A);function u(){this.constructor=s}function A(e){var a=r.call(this)||this;return a._options={style:"light",hideIfUnsupported:!0},a._darkColor="#011c2c",a._toggleFullscreen=function(){var e=a;if(e._container)if(e.isFullscreen()){var n=document;(n.webkitCancelFullScreen||n.cancelFullScreen||n.mozCancelFullScreen||n.msExitFullscreen||n.exitFullscreen).call(document)}else{var t=e._container;(t.webkitRequestFullScreen||t.requestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.requestFullscreen).call(t)}},a._mapStyleChanged=function(){a._button&&!a._hclStyle&&(a._button.style.backgroundColor=a._getColorFromMapStyle())},a._options=Object.assign(a._options,e||{}),a}var p=Object.freeze({__proto__:null,FullscreenControl:c}),m=a.merge("atlas.control",p);e.control=m}(this.atlas=this.atlas||{},atlas);
